[ 2017-05-19T01:08:05+08:00 ] 172.17.180.47 111.206.36.139 GET /
[ log ] www.hhqblog.com/ [运行时间：0.032440s][吞吐率：30.83req/s] [内存消耗：4,244.86kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.80 Safari/537.36',
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000297s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000502s ]

---------------------------------------------------------------
[ 2017-05-19T07:22:41+08:00 ] 172.17.180.47 163.172.4.153 GET /
[ log ] hhqblog.com/ [运行时间：0.032801s][吞吐率：30.49req/s] [内存消耗：4,245.04kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0',
  'connection' => 'Te',
  'accept' => 'text/html',
  'te' => 'trailers',
  'accept-language' => 'en-US;q=0.8, en;q=0.6',
  'accept-encoding' => 'gzip, deflate',
  'host' => 'hhqblog.com',
  'referer' => 'http://hhqblog.com/',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000287s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000208s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000428s ]

---------------------------------------------------------------
[ 2017-05-19T09:23:43+08:00 ] 172.17.180.47 42.156.251.188 GET /
[ log ] hhqblog.com/ [运行时间：0.034106s][吞吐率：29.32req/s] [内存消耗：4,245.31kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'spiderman',
  'accept-language' => 'en-us,en-gb,en;q=0.7,*;q=0.3',
  'accept-charset' => 'utf-8,ISO-8859-1;q=0.7,*;q=0.7',
  'accept' => 'text/html,application/xml;q=0.9,application/xhtml+xml,text/xml;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5',
  'accept-encoding' => 'x-gzip, gzip, deflate',
  'host' => 'hhqblog.com',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000296s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000232s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000456s ]

---------------------------------------------------------------
[ 2017-05-19T10:46:36+08:00 ] 172.17.180.47 123.233.116.122 GET /admin
[ log ] hhqblog.com/admin [运行时间：0.015815s][吞吐率：63.23req/s] [内存消耗：1,978.17kb] [文件加载：44]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->index[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/public/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-05-19T10:46:37+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/index/main.html
[ log ] hhqblog.com/admin/index/main.html [运行时间：0.016368s][吞吐率：61.10req/s] [内存消耗：1,900.91kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'main',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->main[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/index/index.html [ array (
  0 => 'info',
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-05-19T10:46:42+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html
[ log ] hhqblog.com/admin/article/index.html [运行时间：0.026963s][吞吐率：37.09req/s] [内存消耗：3,466.66kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/index.html [ array (
  0 => 'allpage',
  1 => 'current',
  2 => 'keyword',
  3 => 'count',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000784s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000174s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000489s ]

---------------------------------------------------------------
[ 2017-05-19T10:46:42+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html?page=1&keyword=
[ log ] hhqblog.com/admin/article/index.html?page=1&keyword= [运行时间：0.025765s][吞吐率：38.81req/s] [内存消耗：3,397.06kb] [文件加载：52]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'referer' => 'http://hhqblog.com/admin/article/index.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'keyword' => '',
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000290s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000148s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000439s ]

---------------------------------------------------------------
[ 2017-05-19T10:46:45+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/add_article.html
[ log ] hhqblog.com/admin/article/add_article.html [运行时间：0.022248s][吞吐率：44.95req/s] [内存消耗：2,987.27kb] [文件加载：51]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin/article/index.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/add_article.html [ array (
  0 => 'cates',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000281s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article_cate` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `think_article_cate` [ RunTime:0.000184s ]

---------------------------------------------------------------
[ 2017-05-19T10:49:28+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/add_article.html
[ log ] hhqblog.com/admin/article/add_article.html [运行时间：0.932892s][吞吐率：1.07req/s] [内存消耗：4,038.99kb] [文件加载：65]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'content-length' => '293029',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://hhqblog.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundarykv4bEKyCY2gDBhpI',
  'referer' => 'http://hhqblog.com/admin/article/add_article.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
)
[ info ] [ PARAM ] array (
  'title' => 'Javascript图片预加载详解',
  'cate_id' => '15',
  'type' => '0',
  'keyword' => '图片预加载，Javascript',
  'remark' => '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',
  'content' => '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-01 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-01.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-02 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-02.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-03 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-03.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span></p></blockquote><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(153, 153, 153); font-style: italic;">// better image preloading @ &lt;a href=&quot;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&quot;&gt;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&lt;/a&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-01&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-01.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-02&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-02.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-03&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-03.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">Array</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">for</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &lt; </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">length</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);">++</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">].</span><span style="font-size: 12px; color: rgb(0, 45, 122);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-001.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-002.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-003.jpg&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// XHR to request a JS and a CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.js&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.css&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// reference to &lt;head&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementsByTagName</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;head&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)[</span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">];</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;link&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">rel</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;stylesheet&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">href</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new JS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;script&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.js&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload JS and CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000308s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000776s ]
[ error ] [10501]SQLSTATE[22001]: String data, right truncated: 1406 Data too long for column 'content' at row 1[/yjdata/www/hhqblog/thinkphp/library/think/db/Connection.php:457]

---------------------------------------------------------------
[ 2017-05-19T10:49:44+08:00 ] 172.17.180.47 123.233.116.122 GET /static/admin/css/bootstrap.min.css.map
[ log ] hhqblog.com/static/admin/css/bootstrap.min.css.map [运行时间：0.012810s][吞吐率：78.06req/s] [内存消耗：1,586.70kb] [文件加载：37]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'static',
    1 => 'admin',
    2 => 'css',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-05-19T10:49:48+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/add_article.html
[ log ] hhqblog.com/admin/article/add_article.html [运行时间：0.790819s][吞吐率：1.26req/s] [内存消耗：4,038.85kb] [文件加载：65]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'content-length' => '293029',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://hhqblog.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryBCL5iDawfY7zv2tl',
  'referer' => 'http://hhqblog.com/admin/article/add_article.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
)
[ info ] [ PARAM ] array (
  'title' => 'Javascript图片预加载详解',
  'cate_id' => '15',
  'type' => '0',
  'keyword' => '图片预加载，Javascript',
  'remark' => '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',
  'content' => '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-01 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-01.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-02 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-02.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-03 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-03.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span></p></blockquote><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(153, 153, 153); font-style: italic;">// better image preloading @ &lt;a href=&quot;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&quot;&gt;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&lt;/a&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-01&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-01.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-02&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-02.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-03&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-03.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">Array</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">for</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &lt; </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">length</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);">++</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">].</span><span style="font-size: 12px; color: rgb(0, 45, 122);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-001.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-002.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-003.jpg&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// XHR to request a JS and a CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.js&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.css&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// reference to &lt;head&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementsByTagName</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;head&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)[</span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">];</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;link&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">rel</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;stylesheet&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">href</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new JS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;script&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.js&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload JS and CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000754s ]
[ error ] [10501]SQLSTATE[22001]: String data, right truncated: 1406 Data too long for column 'content' at row 1[/yjdata/www/hhqblog/thinkphp/library/think/db/Connection.php:457]

---------------------------------------------------------------
[ 2017-05-19T10:53:17+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/add_article.html
[ log ] hhqblog.com/admin/article/add_article.html [运行时间：0.792818s][吞吐率：1.26req/s] [内存消耗：4,038.35kb] [文件加载：65]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'content-length' => '293029',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://hhqblog.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryq0TbC3Ul3vOGeaDQ',
  'referer' => 'http://hhqblog.com/admin/article/add_article.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
)
[ info ] [ PARAM ] array (
  'title' => 'Javascript图片预加载详解',
  'cate_id' => '15',
  'type' => '0',
  'keyword' => '图片预加载，Javascript',
  'remark' => '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',
  'content' => '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-01 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-01.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-02 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-02.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-03 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-03.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span></p></blockquote><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(153, 153, 153); font-style: italic;">// better image preloading @ &lt;a href=&quot;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&quot;&gt;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&lt;/a&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-01&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-01.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-02&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-02.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-03&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-03.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">Array</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">for</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &lt; </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">length</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);">++</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">].</span><span style="font-size: 12px; color: rgb(0, 45, 122);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-001.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-002.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-003.jpg&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// XHR to request a JS and a CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.js&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.css&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// reference to &lt;head&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementsByTagName</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;head&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)[</span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">];</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;link&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">rel</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;stylesheet&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">href</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new JS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;script&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.js&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload JS and CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000758s ]
[ error ] [10501]SQLSTATE[22001]: String data, right truncated: 1406 Data too long for column 'content' at row 1[/yjdata/www/hhqblog/thinkphp/library/think/db/Connection.php:457]

---------------------------------------------------------------
[ 2017-05-19T11:01:18+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/add_article.html
[ log ] hhqblog.com/admin/article/add_article.html [运行时间：0.759929s][吞吐率：1.32req/s] [内存消耗：4,064.75kb] [文件加载：61]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'content-length' => '293029',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://hhqblog.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryjY4DRHAJB1JBO8AY',
  'referer' => 'http://hhqblog.com/admin/article/add_article.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
)
[ info ] [ PARAM ] array (
  'title' => 'Javascript图片预加载详解',
  'cate_id' => '15',
  'type' => '0',
  'keyword' => '图片预加载，Javascript',
  'remark' => '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',
  'content' => '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-01 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-01.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-02 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-02.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">#preload-03 </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">url</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 128, 128);">http</span><span style="font-size: 12px; color: rgb(51, 51, 51);">:</span><span style="font-size: 12px;">//domain.tld/image-03.png</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">no-repeat</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px;">-9999px</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span></p></blockquote><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(153, 153, 153); font-style: italic;">// better image preloading @ &lt;a href=&quot;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&quot;&gt;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&lt;/a&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-01&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-01.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-02&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-02.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementById</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;preload-03&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">).</span><span style="font-size: 12px; color: rgb(0, 45, 122);">style</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">background</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;url(http://domain.tld/image-03.png) no-repeat -9999px -9999px&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">Array</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">for</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &lt; </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">length</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(0, 111, 224);">++</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">].</span><span style="font-size: 12px; color: rgb(0, 45, 122);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">arguments</span><span style="font-size: 12px; color: rgb(51, 51, 51);">[</span><span style="font-size: 12px; color: rgb(0, 45, 122);">i</span><span style="font-size: 12px; color: rgb(51, 51, 51);">]</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">preload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-001.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-002.jpg&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/gallery/image-003.jpg&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">div </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">class</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;hidden&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;script </span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);">=</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(255, 0, 0);">&lt;/script&gt;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);">&lt;/</span><span style="font-size: 12px; color: rgb(0, 45, 122);">div</span><span style="font-size: 12px; color: rgb(0, 111, 224);">&gt;</span></p></blockquote><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">images</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img1</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img2</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">img3</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; font-weight: bold;">typeof</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> != </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;function&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">else</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">if</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">oldonload</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 128, 128);">func</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(51, 51, 51);">}</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 128, 128);">addLoadEvent</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">preloader</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span></p></blockquote><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// XHR to request a JS and a CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.js&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 128, 128);">XMLHttpRequest</span><span style="font-size: 12px; color: rgb(51, 51, 51);">();</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">open</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;GET&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">,</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;http://domain.tld/preload.css&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">xhr</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">send</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 45, 122);">window</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 45, 122);">onload</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">setTimeout</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">function</span><span style="font-size: 12px; color: rgb(51, 51, 51);">()</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(51, 51, 51);">{</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// reference to &lt;head&gt; &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">getElementsByTagName</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;head&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">)[</span><span style="font-size: 12px; color: rgb(0, 153, 153);">0</span><span style="font-size: 12px; color: rgb(51, 51, 51);">];</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&#39;link&#39;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">rel</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;stylesheet&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">href</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.css&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// a new JS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;">var</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(0, 45, 122);">document</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">createElement</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;script&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">type</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;text/javascript&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;= </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.js&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload JS and CSS &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">css</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(0, 45, 122);">head</span><span style="font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="font-size: 12px; color: rgb(0, 128, 128);">appendChild</span><span style="font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="font-size: 12px; color: rgb(0, 45, 122);">js</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(153, 153, 153); font-style: italic;">// preload image &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 12px; font-weight: bold;">new</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; font-weight: bold;">Image</span><span style="font-size: 12px; color: rgb(51, 51, 51);">().</span><span style="font-size: 12px; color: rgb(0, 128, 128);">src</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> = </span><span style="font-size: 12px; color: rgb(221, 17, 68);">&quot;http://domain.tld/preload.png&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">;</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp; &nbsp;</span><span style="font-size: 12px; color: rgb(51, 51, 51);">},</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> </span><span style="font-size: 12px; color: rgb(0, 153, 153);">1000</span><span style="font-size: 12px; color: rgb(51, 51, 51);">);</span><span style="font-size: 12px; color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(0, 111, 224);"> &nbsp;</span></p></blockquote><blockquote style="font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><p><span style="color: rgb(51, 51, 51);">};</span></p></blockquote><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000292s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000808s ]
[ sql ] [ SQL ] INSERT INTO `think_article` (`title` , `cate_id` , `type` , `keyword` , `remark` , `content` , `is_tui` , `status` , `views` , `auth` , `photo` , `ip` , `update_time` , `create_time`) VALUES ('Javascript图片预加载详解' , 15 , 0 , '图片预加载，Javascript' , '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。' , '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">#preload-01 </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">url</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">http</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px;\">//domain.tld/image-01.png</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">no-repeat</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">#preload-02 </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">url</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">http</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px;\">//domain.tld/image-02.png</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">no-repeat</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">#preload-03 </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">url</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">http</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">:</span><span style=\"font-size: 12px;\">//domain.tld/image-03.png</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">no-repeat</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px;\">-9999px</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span></p></blockquote><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(153, 153, 153); font-style: italic;\">// better image preloading @ &lt;a href=&quot;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&quot;&gt;http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/&lt;/a&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">preloader</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">getElementById</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">getElementById</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;preload-01&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">).</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">style</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;url(http://domain.tld/image-01.png) no-repeat -9999px -9999px&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">getElementById</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;preload-02&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">).</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">style</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;url(http://domain.tld/image-02.png) no-repeat -9999px -9999px&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">getElementById</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;preload-03&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">).</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">style</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">background</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;url(http://domain.tld/image-03.png) no-repeat -9999px -9999px&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">addLoadEvent</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">oldonload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; font-weight: bold;\">typeof</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> != </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;function&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">else</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">oldonload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">oldonload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">addLoadEvent</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">preloader</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span></p></blockquote><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&lt;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">div </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">class</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">=</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;hidden&quot;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(255, 0, 0);\">&lt;script </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">type</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">=</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;text/javascript&quot;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">images</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">Array</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">preload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">for</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 153, 153);\">0</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &lt; </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">preload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">arguments</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">length</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">++</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">images</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">[</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">]</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">images</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">[</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">].</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">preload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">arguments</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">[</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">i</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">]</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">preload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/gallery/image-001.jpg&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">,</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/gallery/image-002.jpg&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">,</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/gallery/image-003.jpg&quot;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(255, 0, 0);\">&lt;/script&gt;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&lt;/</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">div</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt;</span></p></blockquote><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&lt;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">div </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">class</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">=</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;hidden&quot;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(255, 0, 0);\">&lt;script </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">type</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">=</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;text/javascript&quot;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">//--&gt;&lt;![CDATA[//&gt;&lt;!-- &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">images</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img1</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img2</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img3</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img1</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img2</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img3</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">//--&gt;&lt;!]]&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(255, 0, 0);\">&lt;/script&gt;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&lt;/</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">div</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\">&gt;</span></p></blockquote><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">preloader</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">images</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img1</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img2</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img3</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img1</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img2</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">img3</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">addLoadEvent</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">oldonload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; font-weight: bold;\">typeof</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> != </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;function&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">else</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">if</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">oldonload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">oldonload</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">func</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">}</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">addLoadEvent</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">preloader</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span></p></blockquote><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">setTimeout</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// XHR to request a JS and a CSS &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">XMLHttpRequest</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">open</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;GET&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">,</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;http://domain.tld/preload.js&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">send</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">XMLHttpRequest</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">();</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">open</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;GET&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">,</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;http://domain.tld/preload.css&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">xhr</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">send</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// preload image &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">().</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/preload.png&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">},</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 153, 153);\">1000</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(51, 51, 51);\">};</span></p></blockquote><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">window</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">onload</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">setTimeout</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">function</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">()</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">{</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// reference to &lt;head&gt; &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">head</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">getElementsByTagName</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;head&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">)[</span><span style=\"font-size: 12px; color: rgb(0, 153, 153);\">0</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">];</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// a new CSS &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">css</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">createElement</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&#39;link&#39;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">css</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">type</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;text/css&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">css</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">rel</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;= </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;stylesheet&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">css</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">href</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/preload.css&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// a new JS &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(128, 0, 128); font-weight: bold;\">var</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">js</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;= </span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">document</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">createElement</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;script&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">js</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">type</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;text/javascript&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">js</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;= </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/preload.js&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// preload JS and CSS &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">head</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">appendChild</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">css</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">head</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">.</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">appendChild</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">(</span><span style=\"font-size: 12px; color: rgb(0, 45, 122);\">js</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(153, 153, 153); font-style: italic;\">// preload image &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font-size: 12px; font-weight: bold;\">new</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; font-weight: bold;\">Image</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">().</span><span style=\"font-size: 12px; color: rgb(0, 128, 128);\">src</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> = </span><span style=\"font-size: 12px; color: rgb(221, 17, 68);\">&quot;http://domain.tld/preload.png&quot;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">;</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp; &nbsp;</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">},</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> </span><span style=\"font-size: 12px; color: rgb(0, 153, 153);\">1000</span><span style=\"font-size: 12px; color: rgb(51, 51, 51);\">);</span><span style=\"font-size: 12px; color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(0, 111, 224);\"> &nbsp;</span></p></blockquote><blockquote style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;PingFang SC&quot;, Helvetica, Tahoma, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Heiti, 黑体, sans-serif; font-size: 14px; white-space: normal; margin: 0px 0px 0px 40px; border: none; padding: 0px;\"><p><span style=\"color: rgb(51, 51, 51);\">};</span></p></blockquote><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>' , 1 , 1 , 1 , '韩会强' , 'images/j2v9dg6o_3ky5815hbzy591e5ffe03373.jpg' , '123.233.116.122' , 1495162877 , 1495162877) [ RunTime:0.005873s ]

---------------------------------------------------------------
[ 2017-05-19T11:01:20+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html
[ log ] hhqblog.com/admin/article/index.html [运行时间：0.027823s][吞吐率：35.94req/s] [内存消耗：3,556.22kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin/article/add_article.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/index.html [ array (
  0 => 'allpage',
  1 => 'current',
  2 => 'keyword',
  3 => 'count',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000161s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000643s ]

---------------------------------------------------------------
[ 2017-05-19T11:01:20+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html?page=1&keyword=
[ log ] hhqblog.com/admin/article/index.html?page=1&keyword= [运行时间：0.027442s][吞吐率：36.44req/s] [内存消耗：3,487.10kb] [文件加载：52]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'referer' => 'http://hhqblog.com/admin/article/index.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'keyword' => '',
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000285s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000158s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000576s ]

---------------------------------------------------------------
[ 2017-05-19T11:01:20+08:00 ] 172.17.180.47 123.233.116.122 GET /static/admin/css/bootstrap.min.css.map
[ log ] hhqblog.com/static/admin/css/bootstrap.min.css.map [运行时间：0.013229s][吞吐率：75.59req/s] [内存消耗：1,586.70kb] [文件加载：37]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'static',
    1 => 'admin',
    2 => 'css',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-05-19T11:01:39+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] hhqblog.com/ [运行时间：0.034649s][吞吐率：28.86req/s] [内存消耗：4,603.00kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000295s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000456s ]

---------------------------------------------------------------
[ 2017-05-19T11:01:40+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.031875s][吞吐率：31.37req/s] [内存消耗：4,631.53kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'referer' => 'http://hhqblog.com/',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000277s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000748s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000482s ]

---------------------------------------------------------------
[ 2017-05-19T11:01:58+08:00 ] 172.17.180.47 123.233.116.122 GET /ar/33
[ log ] www.hhqblog.com/ar/33 [运行时间：0.029739s][吞吐率：33.63req/s] [内存消耗：4,262.63kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162903',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '33',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000272s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 33 LIMIT 1 [ RunTime:0.000318s ]

---------------------------------------------------------------
[ 2017-05-19T11:02:51+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/edit_article/id/33/html
[ log ] hhqblog.com/admin/article/edit_article/id/33/html [运行时间：0.025702s][吞吐率：38.91req/s] [内存消耗：3,140.85kb] [文件加载：51]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'edit_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin/article/index.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162921',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '33',
)
[ info ] [ RUN ] app\admin\controller\Article->edit_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/edit_article.html [ array (
  0 => 'article',
  1 => 'cates',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000284s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000764s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `id` = 33 LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article_cate` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `think_article_cate` [ RunTime:0.000158s ]

---------------------------------------------------------------
[ 2017-05-19T11:05:56+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/edit_article.html
[ log ] hhqblog.com/admin/article/edit_article.html [运行时间：0.028878s][吞吐率：34.63req/s] [内存消耗：3,512.44kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'edit_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'content-length' => '25272',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://hhqblog.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://hhqblog.com/admin/article/edit_article/id/33/html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162921',
)
[ info ] [ PARAM ] array (
  'id' => '33',
  'title' => 'Javascript图片预加载详解',
  'cate_id' => '15',
  'type' => '0',
  'keyword' => '图片预加载，Javascript',
  'remark' => '预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',
  'file' => '',
  'content' => '<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><pre class="brush:html;toolbar:false">#preload-01&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-01.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}&nbsp;&nbsp;
#preload-02&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-02.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}&nbsp;&nbsp;
#preload-03&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-03.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}</pre><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><pre class="brush:html;toolbar:false">function&nbsp;preloader()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;if&nbsp;(document.getElementById)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-01&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-01.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-02&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-02.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-03&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-03.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
}&nbsp;&nbsp;
function&nbsp;addLoadEvent(func)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;var&nbsp;oldonload&nbsp;=&nbsp;window.onload;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;if&nbsp;(typeof&nbsp;window.onload&nbsp;!=&nbsp;&#39;function&#39;)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;func;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(oldonload)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldonload();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
}&nbsp;&nbsp;
addLoadEvent(preloader);</pre><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><pre class="brush:html;toolbar:false">&lt;div&nbsp;class=&quot;hidden&quot;&gt;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
div&gt;</pre><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><pre class="brush:html;toolbar:false">&lt;div&nbsp;class=&quot;hidden&quot;&gt;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
div&gt;</pre><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><pre class="brush:html;toolbar:false">function&nbsp;preloader()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;if&nbsp;(document.images)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img1&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img2&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img3&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img1.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-001.gif&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-002.gif&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img3.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-003.gif&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
}&nbsp;&nbsp;
function&nbsp;addLoadEvent(func)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;var&nbsp;oldonload&nbsp;=&nbsp;window.onload;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;if&nbsp;(typeof&nbsp;window.onload&nbsp;!=&nbsp;&#39;function&#39;)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;func;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(oldonload)&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldonload();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;
}&nbsp;&nbsp;
addLoadEvent(preloader);</pre><p><span style="color: rgb(255, 0, 0); font-weight: bold;">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><pre class="brush:html;toolbar:false">window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;setTimeout(function()&nbsp;{&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;XHR&nbsp;to&nbsp;request&nbsp;a&nbsp;JS&nbsp;and&nbsp;a&nbsp;CSS&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;xhr&nbsp;=&nbsp;new&nbsp;XMLHttpRequest();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.open(&#39;GET&#39;,&nbsp;&#39;http://domain.tld/preload.js&#39;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.send(&#39;&#39;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr&nbsp;=&nbsp;new&nbsp;XMLHttpRequest();&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.open(&#39;GET&#39;,&nbsp;&#39;http://domain.tld/preload.css&#39;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.send(&#39;&#39;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;image&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Image().src&nbsp;=&nbsp;&quot;http://domain.tld/preload.png&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;},&nbsp;1000);&nbsp;&nbsp;
};</pre><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><pre class="brush:html;toolbar:false">window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;setTimeout(function()&nbsp;{&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;reference&nbsp;to&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;head&nbsp;=&nbsp;document.getElementsByTagName(&#39;head&#39;)[0];&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;a&nbsp;new&nbsp;CSS&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;css&nbsp;=&nbsp;document.createElement(&#39;link&#39;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.type&nbsp;=&nbsp;&quot;text/css&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.rel&nbsp;&nbsp;=&nbsp;&quot;stylesheet&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.href&nbsp;=&nbsp;&quot;http://domain.tld/preload.css&quot;;&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;a&nbsp;new&nbsp;JS&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;js&nbsp;&nbsp;=&nbsp;document.createElement(&quot;script&quot;);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js.type&nbsp;=&nbsp;&quot;text/javascript&quot;;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js.src&nbsp;&nbsp;=&nbsp;&quot;http://domain.tld/preload.js&quot;;&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;JS&nbsp;and&nbsp;CSS&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head.appendChild(css);&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head.appendChild(js);&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;image&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Image().src&nbsp;=&nbsp;&quot;http://domain.tld/preload.png&quot;;&nbsp;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;},&nbsp;1000);&nbsp;&nbsp;
&nbsp;
};</pre><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'like' => '0',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->edit_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000279s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `id` = 33 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] UPDATE `think_article`  SET `title`='Javascript图片预加载详解',`cate_id`=15,`type`=0,`keyword`='图片预加载，Javascript',`remark`='预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。',`content`='<p>预加载图片是提高用户体验的一个很好方法。图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。本文将分享三个不同的预加载技术，来增强网站的性能与可用性。</p><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法一：用CSS和JavaScript实现预加载</span></p><p>实现预加载图片有很多方法，包括使用CSS、JavaScript及两者的各种组合。这些技术可根据不同设计场景设计出相应的解决方案，十分高效。</p><p>单纯使用CSS，可容易、高效地预加载图片，代码如下：</p><pre class=\"brush:html;toolbar:false\">#preload-01&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-01.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}&nbsp;&nbsp;\n#preload-02&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-02.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}&nbsp;&nbsp;\n#preload-03&nbsp;{&nbsp;background:&nbsp;url(http://domain.tld/image-03.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px;&nbsp;}</pre><p>将这三个ID选择器应用到(X)HTML元素中，我们便可通过CSS的background属性将图片预加载到屏幕外的背景上。只要这些图片的路径保持不变，当它们在Web页面的其他地方被调用时，浏览器就会在渲染过程中使用预加载（缓存）的图片。简单、高效，不需要任何JavaScript。</p><p>该方法虽然高效，但仍有改进余地。使用该法加载的图片会同页面的其他内容一起加载，增加了页面的整体加载时间。为了解决这个问题，我们增加了一些JavaScript代码，来推迟预加载的时间，直到页面加载完毕。代码如下：</p><pre class=\"brush:html;toolbar:false\">function&nbsp;preloader()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;if&nbsp;(document.getElementById)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-01&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-01.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-02&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-02.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;preload-03&quot;).style.background&nbsp;=&nbsp;&quot;url(http://domain.tld/image-03.png)&nbsp;no-repeat&nbsp;-9999px&nbsp;-9999px&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n}&nbsp;&nbsp;\nfunction&nbsp;addLoadEvent(func)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;var&nbsp;oldonload&nbsp;=&nbsp;window.onload;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;if&nbsp;(typeof&nbsp;window.onload&nbsp;!=&nbsp;&#39;function&#39;)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;func;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(oldonload)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldonload();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n}&nbsp;&nbsp;\naddLoadEvent(preloader);</pre><p>在该脚本的第一部分，我们获取使用类选择器的元素，并为其设置了background属性，以预加载不同的图片。</p><p>该脚本的第二部分，我们使用addLoadEvent()函数来延迟preloader()函数的加载时间，直到页面加载完毕。</p><p>如果JavaScript无法在用户的浏览器中正常运行，会发生什么？很简单，图片不会被预加载，当页面调用图片时，正常显示即可。</p><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法二：仅使用JavaScript实现预加载</span></p><p>上述方法有时确实很高效，但我们逐渐发现它在实际实现过程中会耗费太多时间。相反，我更喜欢使用纯JavaScript来实现图片的预加载。下面将提供两种这样的预加载方法，它们可以很漂亮地工作于所有现代浏览器之上。</p><p>JavaScript代码段1</p><p>只需简单编辑、加载所需要图片的路径与名称即可，很容易实现：</p><pre class=\"brush:html;toolbar:false\">&lt;div&nbsp;class=&quot;hidden&quot;&gt;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ndiv&gt;</pre><p>该方法尤其适用预加载大量的图片。我的画廊网站使用该技术，预加载图片数量达50多张。将该脚本应用到登录页面，只要用户输入登录帐号，大部分画廊图片将被预加载。</p><p>JavaScript代码段2</p><p>该方法与上面的方法类似，也可以预加载任意数量的图片。将下面的脚本添加入任何Web页中，根据程序指令进行编辑即可。</p><pre class=\"brush:html;toolbar:false\">&lt;div&nbsp;class=&quot;hidden&quot;&gt;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ndiv&gt;</pre><p>正如所看见，每加载一个图片都需要创建一个变量，如“img1 = new Image();”，及图片源地址声明，如“img3.src = “../path/to/image-003.gif”;”。参考该模式，你可根据需要加载任意多的图片。</p><p>我们又对该方法进行了改进。将该脚本封装入一个函数中，并使用 addLoadEvent（），延迟预加载时间，直到页面加载完毕。</p><pre class=\"brush:html;toolbar:false\">function&nbsp;preloader()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;if&nbsp;(document.images)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img1&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img2&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;img3&nbsp;=&nbsp;new&nbsp;Image();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img1.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-001.gif&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-002.gif&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img3.src&nbsp;=&nbsp;&quot;http://domain.tld/path/to/image-003.gif&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n}&nbsp;&nbsp;\nfunction&nbsp;addLoadEvent(func)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;var&nbsp;oldonload&nbsp;=&nbsp;window.onload;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;if&nbsp;(typeof&nbsp;window.onload&nbsp;!=&nbsp;&#39;function&#39;)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;func;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(oldonload)&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldonload();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\n}&nbsp;&nbsp;\naddLoadEvent(preloader);</pre><p><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">方法三：使用Ajax实现预加载</span></p><p>上面所给出的方法似乎不够酷，那现在来看一个使用Ajax实现图片预加载的方法。该方法利用DOM，不仅仅预加载图片，还会预加载CSS、JavaScript等相关的东西。使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效。</p><pre class=\"brush:html;toolbar:false\">window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;setTimeout(function()&nbsp;{&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;XHR&nbsp;to&nbsp;request&nbsp;a&nbsp;JS&nbsp;and&nbsp;a&nbsp;CSS&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;xhr&nbsp;=&nbsp;new&nbsp;XMLHttpRequest();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.open(&#39;GET&#39;,&nbsp;&#39;http://domain.tld/preload.js&#39;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.send(&#39;&#39;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr&nbsp;=&nbsp;new&nbsp;XMLHttpRequest();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.open(&#39;GET&#39;,&nbsp;&#39;http://domain.tld/preload.css&#39;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xhr.send(&#39;&#39;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;image&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Image().src&nbsp;=&nbsp;&quot;http://domain.tld/preload.png&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;},&nbsp;1000);&nbsp;&nbsp;\n};</pre><p>上面代码预加载了“preload.js”、“preload.css”和“preload.png”。1000毫秒的超时是为了防止脚本挂起，而导致正常页面出现功能问题。</p><p>下面，我们看看如何用JavaScript来实现该加载过程：</p><pre class=\"brush:html;toolbar:false\">window.onload&nbsp;=&nbsp;function()&nbsp;{&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;setTimeout(function()&nbsp;{&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;reference&nbsp;to&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;head&nbsp;=&nbsp;document.getElementsByTagName(&#39;head&#39;)[0];&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;a&nbsp;new&nbsp;CSS&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;css&nbsp;=&nbsp;document.createElement(&#39;link&#39;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.type&nbsp;=&nbsp;&quot;text/css&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.rel&nbsp;&nbsp;=&nbsp;&quot;stylesheet&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css.href&nbsp;=&nbsp;&quot;http://domain.tld/preload.css&quot;;&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;a&nbsp;new&nbsp;JS&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;js&nbsp;&nbsp;=&nbsp;document.createElement(&quot;script&quot;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js.type&nbsp;=&nbsp;&quot;text/javascript&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js.src&nbsp;&nbsp;=&nbsp;&quot;http://domain.tld/preload.js&quot;;&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;JS&nbsp;and&nbsp;CSS&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head.appendChild(css);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head.appendChild(js);&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;preload&nbsp;image&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Image().src&nbsp;=&nbsp;&quot;http://domain.tld/preload.png&quot;;&nbsp;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;},&nbsp;1000);&nbsp;&nbsp;\n&nbsp;\n};</pre><p>这里，我们通过DOM创建三个元素来实现三个文件的预加载。正如上面提到的那样，使用Ajax，加载文件不会应用到加载页面上。从这点上看，Ajax方法优越于JavaScript。</p><p><br/></p>',`is_tui`=1,`status`=1,`views`=1,`like`=0,`auth`='韩会强',`ip`='123.233.116.122',`update_time`=1495163156  WHERE  `id` = 33 [ RunTime:0.003471s ]

---------------------------------------------------------------
[ 2017-05-19T11:05:57+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html
[ log ] hhqblog.com/admin/article/index.html [运行时间：0.026638s][吞吐率：37.54req/s] [内存消耗：3,457.30kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/admin/article/edit_article/id/33/html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162921',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/index.html [ array (
  0 => 'allpage',
  1 => 'current',
  2 => 'keyword',
  3 => 'count',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000283s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000176s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000461s ]

---------------------------------------------------------------
[ 2017-05-19T11:05:57+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html?page=1&keyword=
[ log ] hhqblog.com/admin/article/index.html?page=1&keyword= [运行时间：0.026528s][吞吐率：37.70req/s] [内存消耗：3,388.23kb] [文件加载：52]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'referer' => 'http://hhqblog.com/admin/article/index.html',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162921',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'keyword' => '',
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000363s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000764s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000157s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000454s ]

---------------------------------------------------------------
[ 2017-05-19T11:06:01+08:00 ] 172.17.180.47 123.233.116.122 GET /ar/33
[ log ] www.hhqblog.com/ar/33 [运行时间：0.030495s][吞吐率：32.79req/s] [内存消耗：4,079.14kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://hhqblog.com/',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'Hm_lvt_a43511ae0d054430ae20203b0c44a3d3=1493860547,1494481414,1495071426,1495162903; Hm_lpvt_a43511ae0d054430ae20203b0c44a3d3=1495162921',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '33',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000278s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 33 LIMIT 1 [ RunTime:0.000313s ]

---------------------------------------------------------------
[ 2017-05-19T13:10:38+08:00 ] 172.17.180.47 52.197.71.95 GET /
[ log ] hhqblog.com/ [运行时间：0.034790s][吞吐率：28.74req/s] [内存消耗：4,235.65kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3 GTB6 (.NET CLR 3.5.30729)',
  'host' => 'hhqblog.com',
  'connection' => 'Keep-Alive',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000436s ]

---------------------------------------------------------------
[ 2017-05-19T17:49:51+08:00 ] 172.17.180.47 123.125.71.56 GET /ar/32.html
[ log ] www.hhqblog.com/ar/32.html [运行时间：0.032311s][吞吐率：30.95req/s] [内存消耗：3,853.10kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-encoding' => 'gzip',
  'accept-language' => 'zh-cn,zh-tw',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '32',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000318s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 32 LIMIT 1 [ RunTime:0.000250s ]

---------------------------------------------------------------
