[ 2017-09-14T00:21:59+08:00 ] 172.17.180.47 117.71.34.139 GET /
[ log ] hhqblog.com/ [运行时间：0.033968s][吞吐率：29.44req/s] [内存消耗：6,654.94kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; .NET CLR 1.1.4322)',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
  'accept-language' => 'zh-cn,zh;q=0.5',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000279s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000927s ]

---------------------------------------------------------------
[ 2017-09-14T00:44:26+08:00 ] 172.17.180.47 66.249.64.200 GET /
[ log ] hhqblog.com/ [运行时间：0.033017s][吞吐率：30.29req/s] [内存消耗：6,668.27kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'Keep-alive',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
  'from' => 'googlebot(at)googlebot.com',
  'user-agent' => 'Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)',
  'accept-encoding' => 'gzip,deflate,br',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000301s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001016s ]

---------------------------------------------------------------
[ 2017-09-14T01:15:21+08:00 ] 172.17.180.47 220.181.108.167 GET /
[ log ] www.hhqblog.com/ [运行时间：0.037209s][吞吐率：26.88req/s] [内存消耗：6,632.04kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-language' => 'zh-cn,zh-tw',
  'if-none-match' => '"@NULL@"',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000290s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001265s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000893s ]

---------------------------------------------------------------
[ 2017-09-14T01:15:31+08:00 ] 172.17.180.47 111.206.221.46 GET /index/index/index.html?page=1
[ log ] www.hhqblog.com/index/index/index.html?page=1 [运行时间：0.085590s][吞吐率：11.68req/s] [内存消耗：6,644.39kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)',
  'proxy-connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-devtools-emulate-network-conditions-client-id' => '86dbf440-fb43-44b1-a38c-3e426ee602dc',
  'x-requested-with' => 'XMLHttpRequest',
  'accept-language' => 'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3',
  'resource-type' => '13',
  'referer' => 'http://www.hhqblog.com/',
  'cookie' => '_pk_id.1.c6f5=7ea3727504e2ea64.1505322931.1.1505322931.1505322931.; _pk_ses.1.c6f5=*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000285s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000808s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000998s ]

---------------------------------------------------------------
[ 2017-09-14T01:44:15+08:00 ] 172.17.180.47 111.206.36.17 GET /
[ log ] www.hhqblog.com/ [运行时间：0.034019s][吞吐率：29.40req/s] [内存消耗：6,654.52kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.80 Safari/537.36',
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000341s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000938s ]

---------------------------------------------------------------
[ 2017-09-14T02:41:50+08:00 ] 172.17.180.47 106.11.156.190 GET /ar/50.html
[ log ] hhqblog.com/ar/50.html [运行时间：0.033173s][吞吐率：30.14req/s] [内存消耗：4,715.52kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '50',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000281s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 50 LIMIT 1 [ RunTime:0.000256s ]

---------------------------------------------------------------
[ 2017-09-14T03:01:40+08:00 ] 172.17.180.47 40.77.167.130 GET /
[ log ] hhqblog.com/ [运行时间：0.034549s][吞吐率：28.94req/s] [内存消耗：6,655.36kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000280s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000786s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000871s ]

---------------------------------------------------------------
[ 2017-09-14T04:13:30+08:00 ] 172.17.180.47 40.77.167.130 GET /
[ log ] www.hhqblog.com/ [运行时间：0.037827s][吞吐率：26.44req/s] [内存消耗：6,618.43kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000310s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000826s ]

---------------------------------------------------------------
[ 2017-09-14T06:17:52+08:00 ] 172.17.180.47 106.11.156.190 GET /ar/41.html
[ log ] hhqblog.com/ar/41.html [运行时间：0.033483s][吞吐率：29.87req/s] [内存消耗：4,715.82kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '41',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000766s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001231s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 41 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2017-09-14T07:08:58+08:00 ] 172.17.180.47 180.76.15.8 GET /ar/32
[ log ] www.hhqblog.com/ar/32 [运行时间：0.031191s][吞吐率：32.06req/s] [内存消耗：4,693.16kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-encoding' => 'gzip',
  'accept-language' => 'en-US',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '32',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000286s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 32 LIMIT 1 [ RunTime:0.000254s ]

---------------------------------------------------------------
[ 2017-09-14T08:06:11+08:00 ] 172.17.180.47 106.11.156.190 GET /ar/37.html
[ log ] www.hhqblog.com/ar/37.html [运行时间：0.033942s][吞吐率：29.46req/s] [内存消耗：4,702.66kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'www.hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '37',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000294s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001243s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 37 LIMIT 1 [ RunTime:0.000257s ]

---------------------------------------------------------------
[ 2017-09-14T08:36:33+08:00 ] 172.17.180.47 106.11.156.190 GET /ar/46.html
[ log ] www.hhqblog.com/ar/46.html [运行时间：0.031440s][吞吐率：31.81req/s] [内存消耗：4,686.55kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'www.hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '46',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000290s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 46 LIMIT 1 [ RunTime:0.000267s ]

---------------------------------------------------------------
[ 2017-09-14T09:08:26+08:00 ] 172.17.180.47 106.11.242.234 GET /
[ log ] hhqblog.com/ [运行时间：0.038567s][吞吐率：25.93req/s] [内存消耗：6,617.96kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip',
  'user-agent' => 'Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'host' => 'hhqblog.com',
  'accept' => 'text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2',
  'connection' => 'keep-alive',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000885s ]

---------------------------------------------------------------
[ 2017-09-14T09:47:31+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] hhqblog.com/ [运行时间：0.033670s][吞吐率：29.70req/s] [内存消耗：6,669.02kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.21.1505196296.1505196296.',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000939s ]

---------------------------------------------------------------
[ 2017-09-14T09:47:32+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.044809s][吞吐率：22.32req/s] [内存消耗：6,644.06kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.21.1505196296.1505196296.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000403s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001021s ]

---------------------------------------------------------------
[ 2017-09-14T09:47:42+08:00 ] 172.17.180.47 123.233.116.122 GET /ar/56
[ log ] www.hhqblog.com/ar/56 [运行时间：0.032527s][吞吐率：30.74req/s] [内存消耗：5,210.58kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505196304%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.16.1505196304.1505196304.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '56',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000284s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 56 LIMIT 1 [ RunTime:0.000563s ]

---------------------------------------------------------------
[ 2017-09-14T09:50:44+08:00 ] 172.17.180.47 123.233.116.122 GET /admin
[ log ] www.hhqblog.com/admin [运行时间：0.016281s][吞吐率：61.42req/s] [内存消耗：1,978.13kb] [文件加载：44]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->index[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/public/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T09:50:44+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/index/main.html
[ log ] www.hhqblog.com/admin/index/main.html [运行时间：0.015219s][吞吐率：65.71req/s] [内存消耗：1,901.30kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'main',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->main[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/index/index.html [ array (
  0 => 'info',
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T09:50:57+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html
[ log ] www.hhqblog.com/admin/article/index.html [运行时间：0.027192s][吞吐率：36.78req/s] [内存消耗：3,927.23kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/index.html [ array (
  0 => 'allpage',
  1 => 'current',
  2 => 'keyword',
  3 => 'count',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000298s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000162s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.000986s ]

---------------------------------------------------------------
[ 2017-09-14T09:50:57+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html?page=1&keyword=
[ log ] www.hhqblog.com/admin/article/index.html?page=1&keyword= [运行时间：0.040079s][吞吐率：24.95req/s] [内存消耗：3,858.23kb] [文件加载：52]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin/article/index.html',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'keyword' => '',
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000275s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000156s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.001139s ]

---------------------------------------------------------------
[ 2017-09-14T09:51:05+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/add_article.html
[ log ] www.hhqblog.com/admin/article/add_article.html [运行时间：0.023054s][吞吐率：43.38req/s] [内存消耗：2,989.60kb] [文件加载：51]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin/article/index.html',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/add_article.html [ array (
  0 => 'cates',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article_cate` [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `think_article_cate` [ RunTime:0.000220s ]

---------------------------------------------------------------
[ 2017-09-14T09:52:54+08:00 ] 172.17.180.47 123.233.116.122 POST /admin/article/add_article.html
[ log ] www.hhqblog.com/admin/article/add_article.html [运行时间：0.420789s][吞吐率：2.38req/s] [内存消耗：3,926.95kb] [文件加载：61]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'add_article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'content-length' => '238029',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryBJmLAfoLeql4w9AO',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'origin' => 'http://www.hhqblog.com',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin/article/add_article.html',
  'x-lantern-version' => '3.7.4',
  'x-requested-with' => 'XMLHttpRequest',
)
[ info ] [ PARAM ] array (
  'title' => 'PHP输入流php://input介绍',
  'cate_id' => '12',
  'type' => '0',
  'keyword' => 'PHP,输入流,php://input',
  'remark' => '在使用xml-rpc的时候，server端获取client数据，主要是通过php输入流input，而不是$_POST数组。所以，这里主要探讨php输入流php://input',
  'content' => '<p><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">对一php://input介绍，PHP官方手册文档有一段话对它进行了很明确地概述。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">“php://input allows you to read raw POST data. It is a less memory intensive alternative to $HTTP_RAW_POST_DATA and does not need any special php.ini directives. php://input is not available with enctype=”multipart/form-data”.&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">翻译过来，是这样：&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">“php://input可以读取没有处理过的POST数据。相较于$HTTP_RAW_POST_DATA而言，它给内存带来的压力较小，并且不需要特殊的php.ini设置。php://input不能用于enctype=multipart/form-data”&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">我们应该怎么去理解这段概述呢?!我把它划分为三部分，逐步去理解。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">读取POST数据&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">不能用于multipart/form-data类型&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">php://input VS $HTTP_RAW_POST_DATA&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">读取POST数据&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">PHPer们一定很熟悉$_POST这个内置变量。$_POST与 php://input存在哪些关联与区别呢?另外，客户端向服务端交互数据，最常用的方法除了POST之外，还有GET。既然php://input作 为PHP输入流，它能读取GET数据吗？这二个问题正是我们这节需要探讨的主要内容。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">经验告诉我们，从测试与观察中总结，会是一个很凑效的方法。这里，我写了几个脚本来帮助我们测试。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@file 192.168.0.6:/phpinput_server.php 打印出接收到的数据&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@file 192.168.0.8:/phpinput_post.php 模拟以POST方法提交表单数据&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@file 192.168.0.8:/phpinput_xmlrpc.php 模拟以POST方法发出xmlrpc请求.&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@file 192.168.0.8:/phpinput_get.php 模拟以GET方法提交表单表数&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">phpinput_server.php与phpinput_post.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;?php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">//@file phpinput_server.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo &quot;-------\\$_POST------------------\\n&quot;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo var_dump($_POST) . &quot;\\n&quot;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo &quot;-------php://input-------------\\n&quot;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo $raw_post_data . &quot;\\n&quot;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">?&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;?php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">//@file phpinput_post.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_body = &#39;n=&#39; . urldecode(&#39;perfgeeks&#39;) . &#39;&amp;p=&#39; . urldecode(&#39;7788&#39;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_type = &#39;application/x-www-form-urlencoded&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_length = strlen($http_entity_body);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$host = &#39;192.168.0.6&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$port = 80;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$path = &#39;/phpinput_server.php&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">if ($fp) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;POST {$path} HTTP/1.1\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Content-Type: {$http_entity_type}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Content-Length: {$http_entity_length}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, $http_entity_body . &quot;\\r\\n\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">while (!feof($fp)) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$d .= fgets($fp, 4096);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fclose($fp);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo $d;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">?&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">我们可以通过使用工具ngrep抓取http请求包（因为我们需要探知的是php://input，所以我们这里只抓取http Request数据包）。我们来执行测试脚本phpinput_post.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php /phpinput_post.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">HTTP/1.1 200 OK&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Date: Thu, 08 Apr 2010 03:23:36 GMT&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">X-Powered-By: PHP/5.1.6&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Length: 160&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Connection: close&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------$_POST------------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">array(2) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">[&quot;n&quot;]=&gt; string(9) &quot;perfgeeks&quot;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">[&quot;p&quot;]=&gt; string(4) &quot;7788&quot;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------php://input-------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">n=perfgeeks&amp;p=7788&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">通过ngrep抓到的http请求包如下:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">T 192.168.0.8:57846 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">POST /phpinput_server.php HTTP/1.1..&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Host: 192.168.0.6..Content-Type: application/x-www-form-urlencoded..Co&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ntent-Length: 18..Connection: close....n=perfgeeks&amp;p=7788....&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">仔细观察，我们不难发现&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">1，$_POST数据,php://input 数据与httpd entity body数据是“一致”的&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">2，http请求中的Content-Type是application/x-www-form-urlencoded ，它表示http请求body中的数据是使用http的post方法提交的表单数据，并且进行了urlencode()处理。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">(注:注意加粗部分内容，下文不再提示).&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">我们再来看看脚本phpinput_xmlrpc.php的原文件内容，它模拟了一个POST方法提交的xml-rpc请求。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;?php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">//@file phpinput_xmlrpc.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_body = &quot;\\n\\n jt_userinfo\\n&quot;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_type = &#39;text/html&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$http_entity_length = strlen($http_entity_body);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$host = &#39;192.168.0.6&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$port = 80;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$path = &#39;/phpinput_server.php&#39;;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">if ($fp) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;POST {$path} HTTP/1.1\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Content-Type: {$http_entity_type}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Content-Length: {$http_entity_length}\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fputs($fp, $http_entity_body . &quot;\\r\\n\\r\\n&quot;);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">while (!feof($fp)) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">$d .= fgets($fp, 4096);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">fclose($fp);&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">echo $d;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">?&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">同样地，让我们来执行这个测试脚本&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php /phpinput_xmlrcp.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">HTTP/1.1 200 OK&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Date: Thu, 08 Apr 2010 03:47:18 GMT&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">X-Powered-By: PHP/5.1.6&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Length: 154&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Connection: close&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------$_POST------------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">array(0) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------php://input-------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;?xml version=&quot;1.0&quot;&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;methodcall&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;name&gt;jt_userinfo&lt;/name&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">&lt;/methodcall&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">执行这个脚本的时候，我们通过ngrep抓取的http请求数据包如下&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">T 192.168.0.8:45570 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">POST /phpinput_server.php HTTP/1.1..&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Host: 192.168.0.6..Content-Type: text/html..Content-Length: 75..Connec&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">tion: close....&lt;?xml version=&quot;1.0&quot;&gt;.&lt;methodcall&gt;. &lt;name&gt;jt_userinfo&lt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">/name&gt;.&lt;/methodcall&gt;....&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">同样，我样也可以很容易地发现:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">1，http请求中的Content-Type是text/xml。它表示http请求中的body数据是xml数据格式。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">2，服务端$_POST打印出来的是一个空数组，即与http entity body不一致了。这跟上个例子不一样了，这里的Content-Type是text/xml,而不是application/x-www-form-urlencoded&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">3，而php://input数据还是跟http entity body数据一致。也就是php://input数据和$_POST数据不一致了。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">我们再来看看通过GET方法提交表单数据的情况，php://input能不能读取到GET方法的表单数据？在这里，我们稍加改动一下phpinput_server.php文件，将$_POST改成$_GET。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><p><span style="line-height: 21.6px; font-size: 12px; float: right;"><a data="86835" class="copybut" id="copybut86835" style="color: rgb(51, 51, 51); cursor: pointer;"><span style="text-decoration:underline;">复制代码</span></a></span>代码如下:</p><p><br/>&lt;?php&nbsp;<br/>//@file phpinput_server.php&nbsp;<br/>$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;<br/>echo &quot;-------\\$_GET------------------\\n&quot;;&nbsp;<br/>echo var_dump($_GET) . &quot;\\n&quot;;&nbsp;<br/>echo &quot;-------php://input-------------\\n&quot;;&nbsp;<br/>echo $raw_post_data . &quot;\\n&quot;;&nbsp;<br/>?&gt;&nbsp;<br/>&lt;?php&nbsp;<br/>//@file phpinput_get.php&nbsp;<br/>$query_path = &#39;n=&#39; . urldecode(&#39;perfgeeks&#39;) . &#39;&amp;p=&#39; . urldecode(&#39;7788&#39;);&nbsp;<br/>$host = &#39;192.168.0.6&#39;;&nbsp;<br/>$port = 80;&nbsp;<br/>$path = &#39;/phpinput_server.php&#39;;&nbsp;<br/>$d = &#39;&#39;;&nbsp;<br/>$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;<br/>if ($fp) {&nbsp;<br/>fputs($fp, &quot;GET {$path}?{$query_path} HTTP/1.1\\r\\n&quot;);&nbsp;<br/>fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;<br/>fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;<br/><br/>while (!feof($fp)) {&nbsp;<br/>$d .= fgets($fp, 4096);&nbsp;<br/>}&nbsp;<br/>fclose($fp);&nbsp;<br/>echo $d;&nbsp;<br/>}&nbsp;<br/>?&gt;&nbsp;<br/></p><p><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">同样，我们执行下一phpinput_get.php测试脚本，它模拟了一个通常情况下的GET方法提交表单数据。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php /phpinput_get.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">HTTP/1.1 200 OK&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Date: Thu, 08 Apr 2010 07:38:15 GMT&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">X-Powered-By: PHP/5.1.6&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Length: 141&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Connection: close&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------$_GET------------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">array(2) {&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">[&quot;n&quot;]=&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">string(9) &quot;perfgeeks&quot;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">[&quot;p&quot;]=&gt;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">string(4) &quot;7788&quot;&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">}&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------php://input-------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">在这个时候，使用ngrep工具，捕获的相应的http请求数据包如下&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">T 192.168.0.8:36775 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">GET /phpinput_server.php?n=perfgeeks&amp;p=7788 HTTP/1.1..&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Host: 192.168.0.6..Connection: close....&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">比较POST方法提交的http请求，通常GET方法提交的请求中，entity body为空。同时，不会指定Content-Type和Content-Length。但是，如果强硬数据http entity body，并指明正确地Content-Type和Content-Length,那么php://input还可是读取得到http entity body数据，但不是$_GET数据。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">所根据，上面几个探测，我们可以作出以下总结:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">1，Content- Type取值为application/x-www-form-urlencoded时，php会将http请求body相应数据会填入到数 组$_POST，填入到$_POST数组中的数据是进行urldecode()解析的结果。（其实，除了该Content-Type，还有 multipart/form-data表示数据是表单数据，稍后我们介绍）&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">2，php://input数据，只要Content-Type不为 multipart/form-data(该条件限制稍后会介绍)。那么php://input数据与http entity body部分数据是一致的。该部分相一致的数据的长度由Content-Length指定。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">3，仅当Content-Type为application/x-www-form-urlencoded且提交方法是POST方法时，$_POST数据与php://input数据才是”一致”（打上引号，表示它们格式不一致，内容一致）的。其它情况，它们都不一致。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">4，php://input读取不到$_GET数据。是因为$_GET数据作为query_path写在http请求头部(header)的PATH字段，而不是写在http请求的body部分。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">这也帮助我们理解了，为什么xml_rpc服务端读取数据都是通过file_get_contents(‘php://input&#39;, ‘r&#39;)。而不是从$_POST中读取，正是因为xml_rpc数据规格是xml，它的Content-Type是text/xml。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">php://input碰到了multipart/form-data&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">上传文件的时候，表单的写法是这样的&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><p><span style="line-height: 21.6px; font-size: 12px; float: right;"><a data="78549" class="copybut" id="copybut78549" style="color: rgb(51, 51, 51); cursor: pointer;"><span style="text-decoration:underline;">复制代码</span></a></span>代码如下:</p><p><br/>&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;phpinput_server.php&quot; method=&quot;POST&quot; &gt;&nbsp;<br/>&lt;input type=&quot;text&quot; name=&quot;n&quot; /&gt;&nbsp;<br/>&lt;input type=&quot;file&quot; name=&quot;f&quot; /&gt;&nbsp;<br/>&lt;input type=&quot;submit&quot; value=&quot;upload now&quot; /&gt;&nbsp;<br/>&lt;/form&gt;&nbsp;<br/></p><p><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">那么，enctype=multipart/form-data这里的意义，就是将该次http请求头部(head)中的Content-Type设置为multipart/form-data。请查阅RFC1867对 它的描述。multipart/form-data也表示以POST方法提交表单数据，它还伴随了文件上传，所以会跟application/x- www-form-urlencoded数据格式不一样。它会以一更种更合理的，更高效的数据格式传递给服务端。我们提交该表单数据，并且打印出响应结 果，如下:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------$_POST------------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">array(1) { [&quot;n&quot;]=&gt; string(9) &quot;perfgeeks&quot; }&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">-------php://input-------------&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">同时，我们通过ngrep抓取的相应的http请求数据包如下:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">########&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">T 192.168.0.8:3981 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">POST /phpinput_server.php HTTP/1.1..Host: 192.168.0.6..Connection: kee&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">p-alive..User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) A&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ppleWebKit/533.2 (KHTML, like Gecko) Chrome/5.0.342.3 Safari/533.2..Re&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ferer: http://192.168.0.6/phpinput_server.php..Content-Length: 306..Ca&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">che-Control: max-age=0..Origin: http://192.168.0.6..Content-Type: mult&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ipart/form-data; boundary=----WebKitFormBoundarybLQwkp4opIEZn1fA..Acce&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">pt: application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">=0.8,image/png,*/*;q=0.5..Accept-Encoding: gzip,deflate,sdch..Accept-L&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">anguage: zh-CN,zh;q=0.8..Accept-Charset: GBK,utf-8;q=0.7,*;q=0.3..Cook&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ie: SESS3b0e658f87cf58240de13ab43a399df6=lju6o5bg8u04lv1ojugm2ccic6...&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">.&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">##&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">T 192.168.0.8:3981 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">------WebKitFormBoundarybLQwkp4opIEZn1fA..Content-Disposition: form-da&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ta; name=&quot;n&quot;....perfgeeks..------WebKitFormBoundarybLQwkp4opIEZn1fA..C&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">ontent-Disposition: form-data; name=&quot;f&quot;; filename=&quot;test.txt&quot;..Content-&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">Type: text/plain....i am file..multipart/form-data..------WebKitFormBo&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">undarybLQwkp4opIEZn1fA--..&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">##&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">从响应输出来比对，$_POST数据跟请求提交数据相符，即$_POST = array(‘n&#39; =&gt; ‘perfgeeks&#39;)。这也跟http请求body中的数据相呼应，同时说明PHP把相应的数据填入$_POST全局变量。而php://input 输出为空，没有输出任何东西，尽管http请求数据包中body不为空。这表示，当Content-Type为multipart/form-data的 时候，即便http请求body中存在数据，php://input也为空，PHP此时，不会把数据填入php://input流。所以，可以确定: php://input不能用于读取enctype=multipart/form-data数据。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">我们再比较这次通过ngrep抓取的http请求数据包，我们会发现，最大不同的一 点是Content-Type后面跟了boundary定义了数据的分界符，bounday是随机生成的。另外一个大不一样的，就是http entity body中的数据组织结构不一样了。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">上一节，我们概述了，当Content-Type为application/x- www-form-urlencoded时，php://input和$_POST数据是“一致”的，为其它Content-Type的时候，php: //input和$_POST数据数据是不一致的。因为只有在Content-Type为application/x-www-form- urlencoded或者为multipart/form-data的时候，PHP才会将http请求数据包中的body相应部分数据填入$_POST全 局变量中,其它情况PHP都忽略。而php://input除了在数据类型为multipart/form-data之外为空外，其它情况都可能不为空。 通过这一节，我们更加明白了php://input与$_POST的区别与联系。所以，再次确认，php://input无法读取 enctype=multipart/form-data数据，当php://input遇到它时，永远为空，即便http entity body有数据。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">php://input VS $http_raw_post_data&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">相信大家对php://input已经有一定深度地了解了。那 么$http_raw_post_data是什么呢？$http_raw_post_data是PHP内置的一个全局变量。它用于，PHP在无法识别的 Content-Type的情况下，将POST过来的数据原样地填入变量$http_raw_post_data。它同样无法读取Content- Type为multipart/form-data的POST数据。需要设置php.ini中的 always_populate_raw_post_data值为On，PHP才会总把POST数据填入变量$http_raw_post_data。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">把脚本phpinput_server.php改变一下，可以验证上述内容&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/></p><p><span style="line-height: 21.6px; font-size: 12px; float: right;"><a data="56523" class="copybut" id="copybut56523" style="color: rgb(51, 51, 51); cursor: pointer;"><span style="text-decoration:underline;">复制代码</span></a></span>代码如下:</p><p><br/>&lt;?php&nbsp;<br/>$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;<br/>$rtn = ($raw_post_data == $HTTP_RAW_POST_DATA) ? 1 : 0;&nbsp;<br/>echo $rtn;&nbsp;<br/>?&gt;&nbsp;<br/></p><p><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">执行测试脚本&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php phpinput_post.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php phpinput_get.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">@php phpinput_xmlrpc.php&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">得出的结果输出都是一样的，即都为1，表示php://input和$HTTP_RAW_POST_DATA是相同的。至于对内存的压力，我们这里就不做细致地测试了。有兴趣的，可以通过xhprof进行测试和观察。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">以此，我们这节可以总结如下:&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">1, php://input 可以读取http entity body中指定长度的值,由Content-Length指定长度,不管是POST方式或者GET方法提交过来的数据。但是，一般GET方法提交数据 时，http request entity body部分都为空。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">2,php://input 与$HTTP_RAW_POST_DATA读取的数据是一样的，都只读取Content-Type不为multipart/form-data的数据。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">学习笔记&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">1，Coentent-Type仅在取值为application/x-www-data-urlencoded和multipart/form-data两种情况下，PHP才会将http请求数据包中相应的数据填入全局变量$_POST&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">2，PHP不能识别的Content-Type类型的时候，会将http请求包中相应的数据填入变量$HTTP_RAW_POST_DATA&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">3, 只有Coentent-Type不为multipart/form-data的时候，PHP不会将http请求数据包中的相应数据填入php://input，否则其它情况都会。填入的长度，由Coentent-Length指定。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">4，只有Content-Type为application/x-www-data-urlencoded时，php://input数据才跟$_POST数据相一致。&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">5，php://input数据总是跟$HTTP_RAW_POST_DATA相同，但是php://input比$HTTP_RAW_POST_DATA更凑效，且不需要特殊设置php.ini&nbsp;</span><br style="font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><span style="font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);">6，PHP会将PATH字段的query_path部分，填入全局变量$_GET。通常情况下，GET方法提交的http请求，body为空。</span></p><p><br/></p>',
  'is_tui' => '1',
  'status' => '1',
  'views' => '1',
  'auth' => '韩会强',
)
[ info ] [ RUN ] app\admin\controller\Article->add_article[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000934s ]
[ sql ] [ SQL ] INSERT INTO `think_article` (`title` , `cate_id` , `type` , `keyword` , `remark` , `content` , `is_tui` , `status` , `views` , `auth` , `photo` , `ip` , `update_time` , `create_time`) VALUES ('PHP输入流php://input介绍' , 12 , 0 , 'PHP,输入流,php://input' , '在使用xml-rpc的时候，server端获取client数据，主要是通过php输入流input，而不是$_POST数组。所以，这里主要探讨php输入流php://input' , '<p><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">对一php://input介绍，PHP官方手册文档有一段话对它进行了很明确地概述。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">“php://input allows you to read raw POST data. It is a less memory intensive alternative to $HTTP_RAW_POST_DATA and does not need any special php.ini directives. php://input is not available with enctype=”multipart/form-data”.&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">翻译过来，是这样：&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">“php://input可以读取没有处理过的POST数据。相较于$HTTP_RAW_POST_DATA而言，它给内存带来的压力较小，并且不需要特殊的php.ini设置。php://input不能用于enctype=multipart/form-data”&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">我们应该怎么去理解这段概述呢?!我把它划分为三部分，逐步去理解。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">读取POST数据&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">不能用于multipart/form-data类型&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">php://input VS $HTTP_RAW_POST_DATA&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">读取POST数据&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">PHPer们一定很熟悉$_POST这个内置变量。$_POST与 php://input存在哪些关联与区别呢?另外，客户端向服务端交互数据，最常用的方法除了POST之外，还有GET。既然php://input作 为PHP输入流，它能读取GET数据吗？这二个问题正是我们这节需要探讨的主要内容。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">经验告诉我们，从测试与观察中总结，会是一个很凑效的方法。这里，我写了几个脚本来帮助我们测试。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@file 192.168.0.6:/phpinput_server.php 打印出接收到的数据&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@file 192.168.0.8:/phpinput_post.php 模拟以POST方法提交表单数据&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@file 192.168.0.8:/phpinput_xmlrpc.php 模拟以POST方法发出xmlrpc请求.&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@file 192.168.0.8:/phpinput_get.php 模拟以GET方法提交表单表数&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">phpinput_server.php与phpinput_post.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;?php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">//@file phpinput_server.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo &quot;-------\\$_POST------------------\\n&quot;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo var_dump($_POST) . &quot;\\n&quot;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo &quot;-------php://input-------------\\n&quot;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo $raw_post_data . &quot;\\n&quot;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">?&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;?php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">//@file phpinput_post.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_body = &#39;n=&#39; . urldecode(&#39;perfgeeks&#39;) . &#39;&amp;p=&#39; . urldecode(&#39;7788&#39;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_type = &#39;application/x-www-form-urlencoded&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_length = strlen($http_entity_body);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$host = &#39;192.168.0.6&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$port = 80;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$path = &#39;/phpinput_server.php&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">if ($fp) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;POST {$path} HTTP/1.1\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Content-Type: {$http_entity_type}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Content-Length: {$http_entity_length}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, $http_entity_body . &quot;\\r\\n\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">while (!feof($fp)) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$d .= fgets($fp, 4096);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fclose($fp);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo $d;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">?&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">我们可以通过使用工具ngrep抓取http请求包（因为我们需要探知的是php://input，所以我们这里只抓取http Request数据包）。我们来执行测试脚本phpinput_post.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php /phpinput_post.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">HTTP/1.1 200 OK&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Date: Thu, 08 Apr 2010 03:23:36 GMT&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">X-Powered-By: PHP/5.1.6&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Length: 160&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Connection: close&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------$_POST------------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">array(2) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">[&quot;n&quot;]=&gt; string(9) &quot;perfgeeks&quot;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">[&quot;p&quot;]=&gt; string(4) &quot;7788&quot;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------php://input-------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">n=perfgeeks&amp;p=7788&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">通过ngrep抓到的http请求包如下:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">T 192.168.0.8:57846 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">POST /phpinput_server.php HTTP/1.1..&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Host: 192.168.0.6..Content-Type: application/x-www-form-urlencoded..Co&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ntent-Length: 18..Connection: close....n=perfgeeks&amp;p=7788....&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">仔细观察，我们不难发现&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">1，$_POST数据,php://input 数据与httpd entity body数据是“一致”的&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">2，http请求中的Content-Type是application/x-www-form-urlencoded ，它表示http请求body中的数据是使用http的post方法提交的表单数据，并且进行了urlencode()处理。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">(注:注意加粗部分内容，下文不再提示).&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">我们再来看看脚本phpinput_xmlrpc.php的原文件内容，它模拟了一个POST方法提交的xml-rpc请求。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;?php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">//@file phpinput_xmlrpc.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_body = &quot;\\n\\n jt_userinfo\\n&quot;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_type = &#39;text/html&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$http_entity_length = strlen($http_entity_body);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$host = &#39;192.168.0.6&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$port = 80;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$path = &#39;/phpinput_server.php&#39;;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">if ($fp) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;POST {$path} HTTP/1.1\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Content-Type: {$http_entity_type}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Content-Length: {$http_entity_length}\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fputs($fp, $http_entity_body . &quot;\\r\\n\\r\\n&quot;);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">while (!feof($fp)) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">$d .= fgets($fp, 4096);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">fclose($fp);&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">echo $d;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">?&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">同样地，让我们来执行这个测试脚本&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php /phpinput_xmlrcp.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">HTTP/1.1 200 OK&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Date: Thu, 08 Apr 2010 03:47:18 GMT&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">X-Powered-By: PHP/5.1.6&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Length: 154&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Connection: close&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------$_POST------------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">array(0) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------php://input-------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;?xml version=&quot;1.0&quot;&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;methodcall&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;name&gt;jt_userinfo&lt;/name&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;/methodcall&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">执行这个脚本的时候，我们通过ngrep抓取的http请求数据包如下&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">T 192.168.0.8:45570 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">POST /phpinput_server.php HTTP/1.1..&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Host: 192.168.0.6..Content-Type: text/html..Content-Length: 75..Connec&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">tion: close....&lt;?xml version=&quot;1.0&quot;&gt;.&lt;methodcall&gt;. &lt;name&gt;jt_userinfo&lt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">/name&gt;.&lt;/methodcall&gt;....&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">同样，我样也可以很容易地发现:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">1，http请求中的Content-Type是text/xml。它表示http请求中的body数据是xml数据格式。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">2，服务端$_POST打印出来的是一个空数组，即与http entity body不一致了。这跟上个例子不一样了，这里的Content-Type是text/xml,而不是application/x-www-form-urlencoded&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">3，而php://input数据还是跟http entity body数据一致。也就是php://input数据和$_POST数据不一致了。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">我们再来看看通过GET方法提交表单数据的情况，php://input能不能读取到GET方法的表单数据？在这里，我们稍加改动一下phpinput_server.php文件，将$_POST改成$_GET。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p><span style=\"line-height: 21.6px; font-size: 12px; float: right;\"><a data=\"86835\" class=\"copybut\" id=\"copybut86835\" style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/>&lt;?php&nbsp;<br/>//@file phpinput_server.php&nbsp;<br/>$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;<br/>echo &quot;-------\\$_GET------------------\\n&quot;;&nbsp;<br/>echo var_dump($_GET) . &quot;\\n&quot;;&nbsp;<br/>echo &quot;-------php://input-------------\\n&quot;;&nbsp;<br/>echo $raw_post_data . &quot;\\n&quot;;&nbsp;<br/>?&gt;&nbsp;<br/>&lt;?php&nbsp;<br/>//@file phpinput_get.php&nbsp;<br/>$query_path = &#39;n=&#39; . urldecode(&#39;perfgeeks&#39;) . &#39;&amp;p=&#39; . urldecode(&#39;7788&#39;);&nbsp;<br/>$host = &#39;192.168.0.6&#39;;&nbsp;<br/>$port = 80;&nbsp;<br/>$path = &#39;/phpinput_server.php&#39;;&nbsp;<br/>$d = &#39;&#39;;&nbsp;<br/>$fp = fsockopen($host, $port, $error_no, $error_desc, 30);&nbsp;<br/>if ($fp) {&nbsp;<br/>fputs($fp, &quot;GET {$path}?{$query_path} HTTP/1.1\\r\\n&quot;);&nbsp;<br/>fputs($fp, &quot;Host: {$host}\\r\\n&quot;);&nbsp;<br/>fputs($fp, &quot;Connection: close\\r\\n\\r\\n&quot;);&nbsp;<br/><br/>while (!feof($fp)) {&nbsp;<br/>$d .= fgets($fp, 4096);&nbsp;<br/>}&nbsp;<br/>fclose($fp);&nbsp;<br/>echo $d;&nbsp;<br/>}&nbsp;<br/>?&gt;&nbsp;<br/></p><p><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">同样，我们执行下一phpinput_get.php测试脚本，它模拟了一个通常情况下的GET方法提交表单数据。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php /phpinput_get.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">HTTP/1.1 200 OK&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Date: Thu, 08 Apr 2010 07:38:15 GMT&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Server: Apache/2.2.3 (CentOS)&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">X-Powered-By: PHP/5.1.6&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Length: 141&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Connection: close&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Content-Type: text/html; charset=UTF-8&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------$_GET------------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">array(2) {&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">[&quot;n&quot;]=&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">string(9) &quot;perfgeeks&quot;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">[&quot;p&quot;]=&gt;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">string(4) &quot;7788&quot;&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------php://input-------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">在这个时候，使用ngrep工具，捕获的相应的http请求数据包如下&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">T 192.168.0.8:36775 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">GET /phpinput_server.php?n=perfgeeks&amp;p=7788 HTTP/1.1..&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Host: 192.168.0.6..Connection: close....&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">比较POST方法提交的http请求，通常GET方法提交的请求中，entity body为空。同时，不会指定Content-Type和Content-Length。但是，如果强硬数据http entity body，并指明正确地Content-Type和Content-Length,那么php://input还可是读取得到http entity body数据，但不是$_GET数据。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">所根据，上面几个探测，我们可以作出以下总结:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">1，Content- Type取值为application/x-www-form-urlencoded时，php会将http请求body相应数据会填入到数 组$_POST，填入到$_POST数组中的数据是进行urldecode()解析的结果。（其实，除了该Content-Type，还有 multipart/form-data表示数据是表单数据，稍后我们介绍）&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">2，php://input数据，只要Content-Type不为 multipart/form-data(该条件限制稍后会介绍)。那么php://input数据与http entity body部分数据是一致的。该部分相一致的数据的长度由Content-Length指定。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">3，仅当Content-Type为application/x-www-form-urlencoded且提交方法是POST方法时，$_POST数据与php://input数据才是”一致”（打上引号，表示它们格式不一致，内容一致）的。其它情况，它们都不一致。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">4，php://input读取不到$_GET数据。是因为$_GET数据作为query_path写在http请求头部(header)的PATH字段，而不是写在http请求的body部分。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">这也帮助我们理解了，为什么xml_rpc服务端读取数据都是通过file_get_contents(‘php://input&#39;, ‘r&#39;)。而不是从$_POST中读取，正是因为xml_rpc数据规格是xml，它的Content-Type是text/xml。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">php://input碰到了multipart/form-data&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">上传文件的时候，表单的写法是这样的&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p><span style=\"line-height: 21.6px; font-size: 12px; float: right;\"><a data=\"78549\" class=\"copybut\" id=\"copybut78549\" style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/>&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;phpinput_server.php&quot; method=&quot;POST&quot; &gt;&nbsp;<br/>&lt;input type=&quot;text&quot; name=&quot;n&quot; /&gt;&nbsp;<br/>&lt;input type=&quot;file&quot; name=&quot;f&quot; /&gt;&nbsp;<br/>&lt;input type=&quot;submit&quot; value=&quot;upload now&quot; /&gt;&nbsp;<br/>&lt;/form&gt;&nbsp;<br/></p><p><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">那么，enctype=multipart/form-data这里的意义，就是将该次http请求头部(head)中的Content-Type设置为multipart/form-data。请查阅RFC1867对 它的描述。multipart/form-data也表示以POST方法提交表单数据，它还伴随了文件上传，所以会跟application/x- www-form-urlencoded数据格式不一样。它会以一更种更合理的，更高效的数据格式传递给服务端。我们提交该表单数据，并且打印出响应结 果，如下:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------$_POST------------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">array(1) { [&quot;n&quot;]=&gt; string(9) &quot;perfgeeks&quot; }&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">-------php://input-------------&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">同时，我们通过ngrep抓取的相应的http请求数据包如下:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">########&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">T 192.168.0.8:3981 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">POST /phpinput_server.php HTTP/1.1..Host: 192.168.0.6..Connection: kee&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">p-alive..User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) A&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ppleWebKit/533.2 (KHTML, like Gecko) Chrome/5.0.342.3 Safari/533.2..Re&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ferer: http://192.168.0.6/phpinput_server.php..Content-Length: 306..Ca&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">che-Control: max-age=0..Origin: http://192.168.0.6..Content-Type: mult&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ipart/form-data; boundary=----WebKitFormBoundarybLQwkp4opIEZn1fA..Acce&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">pt: application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">=0.8,image/png,*/*;q=0.5..Accept-Encoding: gzip,deflate,sdch..Accept-L&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">anguage: zh-CN,zh;q=0.8..Accept-Charset: GBK,utf-8;q=0.7,*;q=0.3..Cook&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ie: SESS3b0e658f87cf58240de13ab43a399df6=lju6o5bg8u04lv1ojugm2ccic6...&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">.&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">##&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">T 192.168.0.8:3981 -&gt; 192.168.0.6:80 [AP]&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">------WebKitFormBoundarybLQwkp4opIEZn1fA..Content-Disposition: form-da&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ta; name=&quot;n&quot;....perfgeeks..------WebKitFormBoundarybLQwkp4opIEZn1fA..C&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">ontent-Disposition: form-data; name=&quot;f&quot;; filename=&quot;test.txt&quot;..Content-&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">Type: text/plain....i am file..multipart/form-data..------WebKitFormBo&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">undarybLQwkp4opIEZn1fA--..&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">##&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">从响应输出来比对，$_POST数据跟请求提交数据相符，即$_POST = array(‘n&#39; =&gt; ‘perfgeeks&#39;)。这也跟http请求body中的数据相呼应，同时说明PHP把相应的数据填入$_POST全局变量。而php://input 输出为空，没有输出任何东西，尽管http请求数据包中body不为空。这表示，当Content-Type为multipart/form-data的 时候，即便http请求body中存在数据，php://input也为空，PHP此时，不会把数据填入php://input流。所以，可以确定: php://input不能用于读取enctype=multipart/form-data数据。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">我们再比较这次通过ngrep抓取的http请求数据包，我们会发现，最大不同的一 点是Content-Type后面跟了boundary定义了数据的分界符，bounday是随机生成的。另外一个大不一样的，就是http entity body中的数据组织结构不一样了。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">上一节，我们概述了，当Content-Type为application/x- www-form-urlencoded时，php://input和$_POST数据是“一致”的，为其它Content-Type的时候，php: //input和$_POST数据数据是不一致的。因为只有在Content-Type为application/x-www-form- urlencoded或者为multipart/form-data的时候，PHP才会将http请求数据包中的body相应部分数据填入$_POST全 局变量中,其它情况PHP都忽略。而php://input除了在数据类型为multipart/form-data之外为空外，其它情况都可能不为空。 通过这一节，我们更加明白了php://input与$_POST的区别与联系。所以，再次确认，php://input无法读取 enctype=multipart/form-data数据，当php://input遇到它时，永远为空，即便http entity body有数据。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">php://input VS $http_raw_post_data&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">相信大家对php://input已经有一定深度地了解了。那 么$http_raw_post_data是什么呢？$http_raw_post_data是PHP内置的一个全局变量。它用于，PHP在无法识别的 Content-Type的情况下，将POST过来的数据原样地填入变量$http_raw_post_data。它同样无法读取Content- Type为multipart/form-data的POST数据。需要设置php.ini中的 always_populate_raw_post_data值为On，PHP才会总把POST数据填入变量$http_raw_post_data。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">把脚本phpinput_server.php改变一下，可以验证上述内容&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p><span style=\"line-height: 21.6px; font-size: 12px; float: right;\"><a data=\"56523\" class=\"copybut\" id=\"copybut56523\" style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/>&lt;?php&nbsp;<br/>$raw_post_data = file_get_contents(&#39;php://input&#39;, &#39;r&#39;);&nbsp;<br/>$rtn = ($raw_post_data == $HTTP_RAW_POST_DATA) ? 1 : 0;&nbsp;<br/>echo $rtn;&nbsp;<br/>?&gt;&nbsp;<br/></p><p><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">执行测试脚本&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php phpinput_post.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php phpinput_get.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">@php phpinput_xmlrpc.php&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">得出的结果输出都是一样的，即都为1，表示php://input和$HTTP_RAW_POST_DATA是相同的。至于对内存的压力，我们这里就不做细致地测试了。有兴趣的，可以通过xhprof进行测试和观察。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">以此，我们这节可以总结如下:&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">1, php://input 可以读取http entity body中指定长度的值,由Content-Length指定长度,不管是POST方式或者GET方法提交过来的数据。但是，一般GET方法提交数据 时，http request entity body部分都为空。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">2,php://input 与$HTTP_RAW_POST_DATA读取的数据是一样的，都只读取Content-Type不为multipart/form-data的数据。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">学习笔记&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">1，Coentent-Type仅在取值为application/x-www-data-urlencoded和multipart/form-data两种情况下，PHP才会将http请求数据包中相应的数据填入全局变量$_POST&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">2，PHP不能识别的Content-Type类型的时候，会将http请求包中相应的数据填入变量$HTTP_RAW_POST_DATA&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">3, 只有Coentent-Type不为multipart/form-data的时候，PHP不会将http请求数据包中的相应数据填入php://input，否则其它情况都会。填入的长度，由Coentent-Length指定。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">4，只有Content-Type为application/x-www-data-urlencoded时，php://input数据才跟$_POST数据相一致。&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">5，php://input数据总是跟$HTTP_RAW_POST_DATA相同，但是php://input比$HTTP_RAW_POST_DATA更凑效，且不需要特殊设置php.ini&nbsp;</span><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">6，PHP会将PATH字段的query_path部分，填入全局变量$_GET。通常情况下，GET方法提交的http请求，body为空。</span></p><p><br/></p>' , 1 , 1 , 1 , '韩会强' , 'images/j7jsvzew_73h4zo9vwk5159b9e0f5e40f6.jpg' , '123.233.116.122' , 1505353973 , 1505353973) [ RunTime:0.005446s ]

---------------------------------------------------------------
[ 2017-09-14T09:52:55+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html
[ log ] www.hhqblog.com/admin/article/index.html [运行时间：0.027350s][吞吐率：36.56req/s] [内存消耗：3,942.13kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin/article/add_article.html',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/article/index.html [ array (
  0 => 'allpage',
  1 => 'current',
  2 => 'keyword',
  3 => 'count',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000287s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000172s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.001131s ]

---------------------------------------------------------------
[ 2017-09-14T09:52:56+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/article/index.html?page=1&keyword=
[ log ] www.hhqblog.com/admin/article/index.html?page=1&keyword= [运行时间：0.038870s][吞吐率：25.73req/s] [内存消耗：3,873.00kb] [文件加载：52]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin/article/index.html',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'keyword' => '',
)
[ info ] [ RUN ] app\admin\controller\Article->index[ /yjdata/www/hhqblog/application/admin/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` LIMIT 1 [ RunTime:0.000173s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` ORDER BY a.id desc LIMIT 0,10 [ RunTime:0.001035s ]

---------------------------------------------------------------
[ 2017-09-14T09:53:07+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] www.hhqblog.com/ [运行时间：0.034751s][吞吐率：28.78req/s] [内存消耗：6,768.19kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000324s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000427s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001100s ]

---------------------------------------------------------------
[ 2017-09-14T09:53:07+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] www.hhqblog.com/index/index/index.html?page=1 [运行时间：0.041088s][吞吐率：24.34req/s] [内存消耗：6,742.83kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353662.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000283s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001032s ]

---------------------------------------------------------------
[ 2017-09-14T09:53:17+08:00 ] 172.17.180.47 123.233.116.122 GET /ar/58
[ log ] www.hhqblog.com/ar/58 [运行时间：0.032505s][吞吐率：30.76req/s] [内存消耗：4,808.74kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353987.1505353662.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '58',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000271s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.001891s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 58 LIMIT 1 [ RunTime:0.000314s ]

---------------------------------------------------------------
[ 2017-09-14T10:04:46+08:00 ] 172.17.180.47 123.125.71.80 GET /
[ log ] www.hhqblog.com/ [运行时间：0.033539s][吞吐率：29.82req/s] [内存消耗：6,767.37kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-language' => 'zh-cn,zh-tw',
  'if-none-match' => '"@NULL@"',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000416s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001112s ]

---------------------------------------------------------------
[ 2017-09-14T10:24:09+08:00 ] 172.17.180.47 106.11.227.212 GET /
[ log ] www.hhqblog.com/ [运行时间：0.039175s][吞吐率：25.53req/s] [内存消耗：6,766.67kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip',
  'user-agent' => 'Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'host' => 'www.hhqblog.com',
  'accept' => 'text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2',
  'connection' => 'keep-alive',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000336s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000927s ]

---------------------------------------------------------------
[ 2017-09-14T10:29:05+08:00 ] 172.17.180.47 64.233.172.138 GET /
[ log ] hhqblog.com/ [运行时间：0.033389s][吞吐率：29.95req/s] [内存消耗：6,824.41kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'connection' => 'Keep-alive',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.75 Safari/537.36 Google Favicon',
  'accept-encoding' => 'gzip,deflate,br',
  'x-forwarded-for' => '47.74.4.178',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000785s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001070s ]

---------------------------------------------------------------
[ 2017-09-14T11:29:09+08:00 ] 172.17.180.47 40.77.167.130 GET /ar/22.html
[ log ] hhqblog.com/ar/22.html [运行时间：0.034360s][吞吐率：29.10req/s] [内存消耗：4,698.84kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '22',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001291s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000582s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 22 LIMIT 1 [ RunTime:0.000246s ]

---------------------------------------------------------------
[ 2017-09-14T11:32:12+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] hhqblog.com/ [运行时间：0.035133s][吞吐率：28.46req/s] [内存消耗：6,811.73kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.22.1505353652.1505353652.',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000287s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000782s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000983s ]

---------------------------------------------------------------
[ 2017-09-14T11:32:13+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.050710s][吞吐率：19.72req/s] [内存消耗：6,800.25kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.22.1505353652.1505353652.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000780s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000422s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001009s ]

---------------------------------------------------------------
[ 2017-09-14T11:33:40+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] hhqblog.com/ [运行时间：0.033267s][吞吐率：30.06req/s] [内存消耗：6,825.17kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505359934.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000280s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000970s ]

---------------------------------------------------------------
[ 2017-09-14T11:33:42+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.042466s][吞吐率：23.55req/s] [内存消耗：6,800.14kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505359934.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000803s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001044s ]

---------------------------------------------------------------
[ 2017-09-14T11:35:59+08:00 ] 172.17.180.47 123.233.116.122 GET /admin
[ log ] hhqblog.com/admin [运行时间：0.015374s][吞吐率：65.05req/s] [内存消耗：1,978.41kb] [文件加载：44]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->index[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/public/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T11:35:59+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/index/main.html
[ log ] hhqblog.com/admin/index/main.html [运行时间：0.014417s][吞吐率：69.36req/s] [内存消耗：1,900.87kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'main',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->main[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/index/index.html [ array (
  0 => 'info',
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T11:36:06+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/sys/index.html
[ log ] hhqblog.com/admin/sys/index.html [运行时间：0.061438s][吞吐率：16.28req/s] [内存消耗：1,970.89kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'sys',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Sys->index[ /yjdata/www/hhqblog/application/admin/controller/Sys.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/sys/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T11:36:13+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/config/index.html
[ log ] hhqblog.com/admin/config/index.html [运行时间：0.013684s][吞吐率：73.08req/s] [内存消耗：1,588.81kb] [文件加载：37]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'config',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T11:36:15+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/sys/index.html
[ log ] hhqblog.com/admin/sys/index.html [运行时间：0.015479s][吞吐率：64.60req/s] [内存消耗：1,970.89kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'sys',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.; _pk_ses.1.3fef=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Sys->index[ /yjdata/www/hhqblog/application/admin/controller/Sys.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/sys/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T12:09:53+08:00 ] 172.17.180.47 106.11.156.190 GET /index/index/index/cate_id/13.html
[ log ] hhqblog.com/index/index/index/cate_id/13.html [运行时间：0.033364s][吞吐率：29.97req/s] [内存消耗：6,825.19kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'cate_id' => '13',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000295s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000416s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001134s ]

---------------------------------------------------------------
[ 2017-09-14T13:00:19+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] hhqblog.com/ [运行时间：0.038993s][吞吐率：25.65req/s] [内存消耗：6,767.49kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000276s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001258s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000886s ]

---------------------------------------------------------------
[ 2017-09-14T13:00:20+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.048318s][吞吐率：20.70req/s] [内存消耗：6,800.25kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=5dce351e789a92be.1500950707.23.1505360022.1505359934.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000269s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001015s ]

---------------------------------------------------------------
[ 2017-09-14T13:01:21+08:00 ] 172.17.180.47 123.233.116.122 GET /ar/50
[ log ] www.hhqblog.com/ar/50 [运行时间：0.031681s][吞吐率：31.56req/s] [内存消耗：4,808.86kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505353662%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.17.1505353997.1505353662.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '50',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000276s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 50 LIMIT 1 [ RunTime:0.000313s ]

---------------------------------------------------------------
[ 2017-09-14T14:00:45+08:00 ] 172.17.180.47 220.181.108.96 GET /ar/52.html
[ log ] www.hhqblog.com/ar/52.html [运行时间：0.034011s][吞吐率：29.40req/s] [内存消耗：4,709.66kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-encoding' => 'gzip',
  'accept-language' => 'zh-cn,zh-tw',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '52',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000316s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001267s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 52 LIMIT 1 [ RunTime:0.000262s ]

---------------------------------------------------------------
[ 2017-09-14T14:28:47+08:00 ] 172.17.180.47 40.77.167.130 GET /
[ log ] hhqblog.com/ [运行时间：0.055811s][吞吐率：17.92req/s] [内存消耗：6,811.48kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000419s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.001125s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001322s ]

---------------------------------------------------------------
[ 2017-09-14T14:56:37+08:00 ] 172.17.180.47 106.11.153.252 GET /misc/copyright/
[ log ] www.hhqblog.com/misc/copyright/ [运行时间：0.013496s][吞吐率：74.10req/s] [内存消耗：1,586.48kb] [文件加载：37]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'misc',
    1 => 'copyright',
    2 => 'index.php',
  ),
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'www.hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T15:48:55+08:00 ] 172.17.180.47 123.233.116.122 GET /
[ log ] www.hhqblog.com/ [运行时间：0.038859s][吞吐率：25.73req/s] [内存消耗：6,767.61kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505365284%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.18.1505365284.1505365284.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhq114.com/index.php/admin/index/index.html',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000303s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001255s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000384s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000889s ]

---------------------------------------------------------------
[ 2017-09-14T15:48:56+08:00 ] 172.17.180.47 123.233.116.122 GET /index/index/index.html?page=1
[ log ] www.hhqblog.com/index/index/index.html?page=1 [运行时间：0.057936s][吞吐率：17.26req/s] [内存消耗：6,800.38kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505365284%2C%22http%3A%2F%2Fhhqblog.com%2F%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.18.1505365284.1505365284.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000276s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000978s ]

---------------------------------------------------------------
[ 2017-09-14T15:49:15+08:00 ] 172.17.180.47 106.11.156.129 GET /ar/38.html
[ log ] www.hhqblog.com/ar/38.html [运行时间：0.033418s][吞吐率：29.92req/s] [内存消耗：5,158.47kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'www.hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '38',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000289s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 38 LIMIT 1 [ RunTime:0.000496s ]

---------------------------------------------------------------
[ 2017-09-14T15:54:08+08:00 ] 172.17.180.47 123.233.116.122 GET /admin
[ log ] www.hhqblog.com/admin [运行时间：0.016491s][吞吐率：60.64req/s] [内存消耗：1,978.49kb] [文件加载：44]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505375337%2C%22http%3A%2F%2Fwww.hhq114.com%2Findex.php%2Fadmin%2Findex%2Findex.html%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.19.1505375337.1505375337.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->index[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/public/index.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T15:54:08+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/index/main.html
[ log ] www.hhqblog.com/admin/index/main.html [运行时间：0.014813s][吞吐率：67.51req/s] [内存消耗：1,901.21kb] [文件加载：43]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'main',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505375337%2C%22http%3A%2F%2Fwww.hhq114.com%2Findex.php%2Fadmin%2Findex%2Findex.html%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.19.1505375337.1505375337.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Index->main[ /yjdata/www/hhqblog/application/admin/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/index/index.html [ array (
  0 => 'info',
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T15:54:16+08:00 ] 172.17.180.47 123.233.116.122 GET /admin/category/index.html
[ log ] www.hhqblog.com/admin/category/index.html [运行时间：0.025317s][吞吐率：39.50req/s] [内存消耗：3,345.28kb] [文件加载：53]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'category',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'bdshare_firstime=1502176507013; _pk_ref.1.c6f5=%5B%22%22%2C%22%22%2C1505375337%2C%22http%3A%2F%2Fwww.hhq114.com%2Findex.php%2Fadmin%2Findex%2Findex.html%22%5D; _pk_id.1.c6f5=8954b2a892899c3c.1500952384.19.1505375337.1505375337.; _pk_ses.1.c6f5=*',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://www.hhqblog.com/admin',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Category->index[ /yjdata/www/hhqblog/application/admin/controller/Category.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/admin/view/category/index.html [ array (
  0 => 'list',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article_cate` [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT * FROM `think_article_cate` ORDER BY orderby asc,id desc [ RunTime:0.000239s ]

---------------------------------------------------------------
[ 2017-09-14T16:19:18+08:00 ] 172.17.180.47 40.77.167.130 GET /
[ log ] www.hhqblog.com/ [运行时间：0.033070s][吞吐率：30.24req/s] [内存消耗：6,824.83kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000283s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001073s ]

---------------------------------------------------------------
[ 2017-09-14T17:37:35+08:00 ] 172.17.180.47 106.11.156.129 GET /ar/25.html
[ log ] hhqblog.com/ar/25.html [运行时间：0.036550s][吞吐率：27.36req/s] [内存消耗：4,690.68kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'Artical',
    2 => 'detail',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'accept-language' => 'zh-cn,en-us,zh-tw,en-gb,en;',
  'host' => 'hhqblog.com',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'connection' => 'Keep-Alive',
  'user-agent' => 'YisouSpider',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'id' => '25',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Artical->detail[ /yjdata/www/hhqblog/application/index/controller/Artical.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/artical/detail.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'article',
  5 => 'allpage',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT `a`.*,`ca`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ca` ON `a`.`cate_id`=`ca`.`id` WHERE  `a`.`id` = 25 LIMIT 1 [ RunTime:0.000241s ]

---------------------------------------------------------------
[ 2017-09-14T19:52:07+08:00 ] 172.17.180.47 202.108.211.56 GET /
[ log ] www.hhqblog.com/ [运行时间：0.037790s][吞吐率：26.46req/s] [内存消耗：6,767.53kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21 (KHTML, like Gecko) Chrome/19.0.1042.0 Safari/535.21',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, sdch',
  'accept-language' => 'zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'upgrade-insecure-requests' => '1',
  'host' => 'www.hhqblog.com',
  'connection' => 'keep-alive',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000286s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001265s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000869s ]

---------------------------------------------------------------
[ 2017-09-14T19:58:47+08:00 ] 172.17.180.47 157.55.39.205 GET /cyzx/534.html
[ log ] www.hhqblog.com/cyzx/534.html [运行时间：0.013153s][吞吐率：76.03req/s] [内存消耗：1,587.02kb] [文件加载：37]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'cyzx',
    1 => '534',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'cache-control' => 'no-cache',
  'connection' => 'Keep-Alive',
  'pragma' => 'no-cache',
  'accept' => '*/*',
  'accept-encoding' => 'gzip, deflate',
  'from' => 'bingbot(at)microsoft.com',
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2017-09-14T20:47:37+08:00 ] 172.17.180.47 220.181.108.179 GET /
[ log ] www.hhqblog.com/ [运行时间：0.033872s][吞吐率：29.52req/s] [内存消耗：6,824.78kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'connection' => 'close',
  'user-agent' => 'Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)',
  'accept-language' => 'zh-cn,zh-tw',
  'if-none-match' => '"@NULL@"',
  'accept-encoding' => 'gzip',
  'accept' => '*/*',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001062s ]

---------------------------------------------------------------
[ 2017-09-14T20:47:54+08:00 ] 172.17.180.47 111.206.221.112 GET /index/index/index.html?page=1
[ log ] www.hhqblog.com/index/index/index.html?page=1 [运行时间：0.050582s][吞吐率：19.77req/s] [内存消耗：6,800.16kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'www.hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)',
  'proxy-connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-devtools-emulate-network-conditions-client-id' => 'fa01779a-6cfa-4043-bb82-7edbbaecec83',
  'x-requested-with' => 'XMLHttpRequest',
  'accept-language' => 'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3',
  'resource-type' => '13',
  'referer' => 'http://www.hhqblog.com/',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000277s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001042s ]

---------------------------------------------------------------
[ 2017-09-14T22:33:57+08:00 ] 172.17.180.47 124.128.165.170 GET /
[ log ] hhqblog.com/ [运行时间：0.038692s][吞吐率：25.85req/s] [内存消耗：6,767.49kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=017b8bcc8dec5cbb.1505148773.1.1505148773.1505148773.',
  'proxy-connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'x-lantern-version' => '3.7.4',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000313s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001347s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000369s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000949s ]

---------------------------------------------------------------
[ 2017-09-14T22:33:58+08:00 ] 172.17.180.47 124.128.165.170 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.041880s][吞吐率：23.88req/s] [内存消耗：6,800.25kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => '_pk_id.1.3fef=017b8bcc8dec5cbb.1505148773.1.1505148773.1505148773.',
  'proxy-connection' => 'keep-alive',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001038s ]

---------------------------------------------------------------
[ 2017-09-14T23:27:52+08:00 ] 172.17.180.47 52.87.160.156 GET /
[ log ] hhqblog.com/ [运行时间：0.034348s][吞吐率：29.11req/s] [内存消耗：6,824.45kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1',
  'connection' => 'Keep-Alive',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'en,*',
  'host' => 'hhqblog.com',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000279s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000416s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001039s ]

---------------------------------------------------------------
[ 2017-09-14T23:28:01+08:00 ] 172.17.180.47 52.87.160.156 GET /index/index/index.html?page=1
[ log ] hhqblog.com/index/index/index.html?page=1 [运行时间：0.056788s][吞吐率：17.61req/s] [内存消耗：6,799.95kb] [文件加载：55]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'referer' => 'http://hhqblog.com/',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1',
  'cookie' => '_pk_id.1.3fef=1b6776f83b60e3e3.1505402880.1.1505402880.1505402880.; _pk_ses.1.3fef=*',
  'connection' => 'Keep-Alive',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'en,*',
  'host' => 'hhqblog.com',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000428s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.001134s ]

---------------------------------------------------------------
[ 2017-09-14T23:54:01+08:00 ] 172.17.180.47 196.52.43.55 GET /
[ log ] hhqblog.com/ [运行时间：0.037442s][吞吐率：26.71req/s] [内存消耗：6,765.85kb] [文件加载：56]
[ info ] [ LANG ] /yjdata/www/hhqblog/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'hhqblog.com',
  'content-type' => '',
  'content-length' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ /yjdata/www/hhqblog/application/index/controller/Index.php ]
[ info ] [ VIEW ] /yjdata/www/hhqblog/public/../application/index/view/index/index.html [ array (
  0 => 'menu',
  1 => 'recommend',
  2 => 'newarticle',
  3 => 'hot',
  4 => 'list',
  5 => 'allpage',
  6 => 'top_line',
  7 => 'carousel',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000310s ] mysql:dbname=hhqblog;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `think_article` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `is_tui` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.001269s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1 ORDER BY id desc LIMIT 8 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` ORDER BY views desc LIMIT 8 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 1 ORDER BY id desc LIMIT 6 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `think_article` WHERE  `status` = 1  AND `type` = 2 ORDER BY id desc LIMIT 6 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `think_article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT `a`.*,`ac`.`name` FROM `think_article` `a` LEFT JOIN `think_article_cate` `ac` ON `a`.`cate_id`=`ac`.`id` WHERE  `a`.`status` = 1 ORDER BY id desc LIMIT 0,15 [ RunTime:0.000894s ]

---------------------------------------------------------------
